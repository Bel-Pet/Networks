Задание: Реализация надежной доставки поверх UDP

Это задание нужно сделать тем, кто планирует сдавать экзамен досрочно (а это рекомендуется всем). 
Для получения допуска к экзамену выполнение этого задания не требуется.

Цели задания
Реализация простого протокола надежной доставки на прикладном уровне поверх UDP. 
Вам понадобится
Язык программирования на ваш выбор. Я рекомендую Java (в нём мне проще будет проверять ваш код и помогать с выполнением задания), авторы книги рекомендуют Python (как простой язык для описания сетевого взаимодействия).
Выбранный вами язык должен иметь встроенные средства для сетевого взаимодействия (создание UDP-сокета и чтение/запись), а также генератор случайных чисел.

Задачи
Изучите сетевые возможности выбранного вами языка программирования. Главное: вы должны использовать именно UDP-сокеты, удостоверьтесь в этом.
Реализуйте две программы - “отправителя” и “получателя”. Это может быть одна программа, но работающая по-разному в зависимости от поданной при запуске команды.
За основу протокола взять описание RDT из книги (там описано пошаговое построение протокола надежной передачи). В идеале ваша программа должна соответствовать книжному RDT 3.0.
Для тестирования вашего протокола добавьте в “получатель” логику “потери” пакета - с вероятностью 80% получатель проигнорирует пакет. Используйте для этого генератор случайных чисел выбранного языка.
Также требуется добавить “рукопожатие” - установку соединения, подобную TCP.
Протестируйте работу вашей программы локально, запустив “отправитель” и “получатель” как два процесса. Отправитель должен инициировать подключение и затем отправить 5 пакетов с некими данными - например, это могут быть строки текста. После получения этих пакетов получатель должен вывести полученный текст.
Добавьте логирование в консоль, по которому можно будет прочитать, какие события в каком порядке произошли, какие действия были совершены программой. Конкретный формат - на ваш выбор.

Критерии приема
Нужно будет показать код и продемонстрировать работу программы. 
Объяснить основные шаги алгоритма, состояния “отправителя” и “получателя”.
Рассказать про используемые сетевые средства языка.
Ответить на возможные вопросы как по реализации, так и по теории надежной передачи данных.
Красивый код желателен, но не является обязательным - в рамках этой задачи важной является корректная реализация алгоритма.
Требования к заданию не являются строгими - главное диалог, т.е. рассказать, какие части вы решили реализовать и почему, что получилось, что не получилось. Ваш протокол не обязательно должен соответствовать описанному в книге RDT.

Дополнительная информация
Проверка контрольной суммы есть в UDP, поэтому в вашем протоколе её реализовывать не нужно. Искажение пакета будет выглядеть для вас так же, как если бы пакет не дошёл, потому что UDP просто не пропустит такой пакет на прикладной уровень.

Материалы
“Компьютерные сети: нисходящий подход”, глава 3.
Раздел 3.4.2 (стр. 241) рассказывает про пошаговое построение протокола надежной передачи данных с представлением в виде конечных автоматов. Рекомендую прочитать этот раздел полностью, реализовать в соответствии с ним.
В разделе 3.5.3 (стр. 282) есть пример псевдокода для отправителя TCP.
Презентация 5 (см. в папке с материалами).
Для Java: https://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html
